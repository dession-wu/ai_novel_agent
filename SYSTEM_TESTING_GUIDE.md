# AI Novel Agent 系统试用指南

## 1. 系统环境准备

### 1.1 后端服务启动

**步骤**：
1. 打开终端，进入项目根目录
2. 激活Python虚拟环境（如果使用）
3. 安装依赖：`pip install -r requirements.txt`
4. 启动后端服务：`python main.py`
5. 验证服务是否成功启动：访问 `http://localhost:8000/docs` 应能看到FastAPI文档

### 1.2 前端服务启动

**步骤**：
1. 打开新终端，进入 `frontend` 目录
2. 安装依赖：`npm install`
3. 启动前端服务：`npm run dev`
4. 验证服务是否成功启动：访问 `http://localhost:5173` 应能看到系统登录/注册页面

### 1.3 环境变量配置

**检查要点**：
- 确保后端配置了正确的数据库连接
- 确保前端配置了正确的后端API地址
- 确保AI服务的API密钥已正确配置

## 2. 主要功能模块测试流程

### 2.1 编辑器核心功能

**测试点**：
1. **基本编辑功能**
   - 输入文本，检查是否正常显示
   - 复制粘贴文本，检查格式是否保留
   - 撤销/重做功能是否正常

2. **Markdown渲染**
   - 输入标题（#、##、###），检查渲染效果
   - 输入粗体（**粗体**）和斜体（*斜体*），检查渲染效果
   - 输入列表（有序、无序），检查渲染效果
   - 输入代码块和行内代码，检查渲染效果
   - 输入表格，检查渲染效果

3. **预览模式**
   - 切换编辑模式、分屏模式、预览模式
   - 检查不同模式下的布局和交互

4. **字数统计**
   - 输入文本，检查字数统计是否准确
   - 检查字符数统计是否准确

5. **保存功能**
   - 手动保存功能
   - 自动保存功能（30秒）
   - 保存状态提示

**预期结果**：
- 所有编辑操作正常响应
- Markdown渲染准确无误
- 预览模式切换流畅
- 字数统计准确
- 保存功能正常，有明确的状态提示

### 2.2 AI辅助功能

**测试点**：
1. **AI续写**
   - 输入一段文本，使用AI续写功能
   - 检查续写内容是否连贯
   - 检查流式传输是否正常
   - 检查续写过程中的状态提示

2. **AI生成**
   - 生成新章节内容
   - 检查生成内容的质量和相关性
   - 检查生成过程中的状态提示

3. **AI润色**
   - 选择一段文本，使用AI润色功能
   - 检查润色后的内容是否符合预期
   - 检查润色过程中的状态提示

4. **AI扩展**
   - 选择一段文本，使用AI扩展功能
   - 检查扩展后的内容是否符合预期
   - 检查扩展过程中的状态提示

**预期结果**：
- AI功能能够正常调用
- 流式传输流畅，无明显延迟
- 生成内容质量符合预期
- 状态提示清晰明确
- 错误处理机制完善

### 2.3 通知系统

**测试点**：
1. **不同类型通知**
   - 成功通知（如保存成功）
   - 错误通知（如AI调用失败）
   - 警告通知（如自动保存失败）
   - 信息通知（如选择文本提示）

2. **通知交互**
   - 通知自动隐藏功能
   - 手动关闭通知功能
   - 通知点击操作（如有）

3. **通知样式**
   - 检查不同类型通知的样式是否正确
   - 检查通知的动画效果
   - 检查通知的布局和响应式设计

**预期结果**：
- 所有类型通知显示正常
- 通知能够自动隐藏（默认5秒）
- 手动关闭功能正常
- 样式美观，动画流畅
- 响应式设计适配不同屏幕

### 2.4 主题系统

**测试点**：
1. **主题切换**
   - 亮色主题切换
   - 暗色主题切换
   - 检查主题切换是否立即生效
   - 检查主题偏好是否持久化

2. **主题适配**
   - 检查所有组件是否正确适配主题
   - 检查文本对比度是否符合要求
   - 检查颜色方案是否一致

**预期结果**：
- 主题切换流畅，无明显延迟
- 所有组件正确适配主题
- 文本对比度符合可读性要求
- 主题偏好持久化保存

### 2.5 作品管理

**测试点**：
1. **作品创建**
   - 创建新作品
   - 填写作品信息
   - 检查作品是否成功保存

2. **作品编辑**
   - 修改作品信息
   - 检查修改是否成功保存

3. **作品删除**
   - 删除作品
   - 检查删除确认提示
   - 检查作品是否成功删除

4. **作品列表**
   - 检查作品列表显示
   - 检查作品排序和过滤
   - 检查作品搜索功能

**预期结果**：
- 作品创建、编辑、删除功能正常
- 有明确的操作提示和确认机制
- 作品列表显示准确
- 搜索和过滤功能正常

### 2.6 世界构建

**测试点**：
1. **世界设定创建**
   - 创建世界设定
   - 填写世界背景、角色、地点等信息
   - 检查设定是否成功保存

2. **世界设定编辑**
   - 修改世界设定
   - 检查修改是否成功保存

3. **世界设定关联**
   - 将世界设定关联到作品
   - 检查关联是否成功
   - 检查在编辑器中是否可以访问世界设定

**预期结果**：
- 世界设定创建、编辑功能正常
- 关联功能正常
- 编辑器中可以方便访问世界设定

## 3. 关键操作路径验证

### 3.1 创作新作品流程

**路径**：
1. 登录系统
2. 点击"创建作品"
3. 填写作品信息
4. 进入编辑器
5. 输入初始内容
6. 使用AI续写功能
7. 手动保存
8. 切换到预览模式查看效果
9. 退出编辑器

**验证要点**：
- 每个步骤的衔接是否流畅
- 数据是否正确保存
- 提示信息是否明确
- AI功能是否正常调用

### 3.2 编辑现有作品流程

**路径**：
1. 登录系统
2. 从作品列表选择一个作品
3. 进入编辑器
4. 选择一段文本
5. 使用AI润色功能
6. 查看润色结果并调整
7. 自动保存触发（等待30秒）
8. 切换主题
9. 退出编辑器

**验证要点**：
- 作品加载是否正常
- AI润色功能是否正常
- 自动保存是否触发
- 主题切换是否生效
- 数据是否正确保存

### 3.3 AI生成新章节流程

**路径**：
1. 登录系统
2. 进入作品编辑器
3. 点击"AI生成"按钮
4. 等待生成完成
5. 查看生成内容
6. 编辑调整生成内容
7. 保存章节

**验证要点**：
- AI生成功能是否正常
- 生成内容质量是否符合预期
- 编辑调整是否流畅
- 保存功能是否正常

## 4. 数据输入输出检查要点

### 4.1 编辑器数据

**检查要点**：
- 输入的文本是否正确显示
- Markdown渲染是否准确
- 保存后内容是否正确存储
- 重新打开后内容是否完整恢复
- 字数统计是否准确

### 4.2 AI生成数据

**检查要点**：
- 生成内容是否连贯
- 生成内容是否符合上下文
- 生成内容是否符合预期风格
- 生成过程是否流畅，无卡顿
- 生成结果是否可以编辑调整

### 4.3 通知数据

**检查要点**：
- 通知内容是否准确反映操作结果
- 通知类型是否与操作匹配
- 通知持续时间是否合理
- 通知数量是否正确

### 4.4 作品数据

**检查要点**：
- 作品信息是否完整保存
- 作品列表是否准确显示
- 作品删除是否彻底
- 作品关联是否正确

## 5. 异常场景模拟方法

### 5.1 网络异常

**模拟方法**：
- 断开网络连接
- 使用浏览器开发者工具模拟网络延迟
- 使用浏览器开发者工具模拟网络错误

**验证要点**：
- 系统是否有明确的网络异常提示
- 操作失败时是否有友好提示
- 网络恢复后是否可以正常重试
- 未保存的内容是否可以恢复

### 5.2 AI调用失败

**模拟方法**：
- 配置错误的AI API密钥
- 模拟AI服务超时
- 模拟AI服务返回错误

**验证要点**：
- 系统是否有明确的错误提示
- 错误信息是否清晰易懂
- 是否可以重新尝试
- 编辑器内容是否不受影响

### 5.3 保存失败

**模拟方法**：
- 模拟数据库连接失败
- 模拟文件系统权限问题
- 模拟磁盘空间不足

**验证要点**：
- 系统是否有明确的保存失败提示
- 是否可以重试保存
- 未保存的内容是否可以恢复
- 自动保存失败时是否有提示

### 5.4 空内容处理

**模拟方法**：
- 清空编辑器内容
- 尝试保存空内容
- 尝试AI生成空内容

**验证要点**：
- 系统是否有明确的提示
- 是否允许保存空内容
- AI功能对空内容的处理
- 字数统计对空内容的显示

### 5.5 长文本编辑

**模拟方法**：
- 导入或输入大量文本（>10000字）
- 在长文本中进行编辑操作
- 使用AI功能处理长文本

**验证要点**：
- 编辑器性能是否流畅
- AI功能是否正常调用
- 保存功能是否正常
- 字数统计是否准确
- 滚动体验是否流畅

## 6. 问题记录模板

| 问题编号 | 问题描述 | 复现步骤 | 预期结果 | 实际结果 | 严重程度 | 截图/日志 | 备注 |
|----------|----------|----------|----------|----------|----------|-----------|------|
|          |          |          |          |          |          |           |      |
|          |          |          |          |          |          |           |      |
|          |          |          |          |          |          |           |      |

### 6.1 严重程度定义

- **Critical**：系统崩溃、数据丢失、功能完全不可用
- **Major**：功能部分不可用、影响核心流程
- **Minor**：功能可用但体验不佳、UI/UX问题
- **Trivial**：拼写错误、轻微样式问题

### 6.2 问题分类

- **功能问题**：功能无法正常使用
- **性能问题**：系统响应缓慢、卡顿
- **UI/UX问题**：界面设计不合理、交互不流畅
- **兼容性问题**：在特定浏览器/设备上表现异常
- **安全问题**：存在安全漏洞
- **其他问题**：不符合预期的行为

## 7. 试用报告模板

### 7.1 基本信息

- 试用日期：
- 试用人员：
- 系统版本：
- 浏览器版本：
- 操作系统：

### 7.2 功能测试结果

| 功能模块 | 测试状态 | 发现问题数 | 主要问题描述 |
|----------|----------|------------|--------------|
| 编辑器核心功能 | | | |
| AI辅助功能 | | | |
| 通知系统 | | | |
| 主题系统 | | | |
| 作品管理 | | | |
| 世界构建 | | | |

### 7.3 总体评价

- 系统优势：
- 系统不足：
- 改进建议：

### 7.4 结论

- 是否推荐使用：
- 推荐理由：
- 不推荐理由：

## 8. 注意事项

1. 测试前确保系统环境准备完成
2. 按照测试流程逐步进行，不要跳过任何步骤
3. 详细记录每个问题的复现步骤和实际结果
4. 测试过程中保持耐心，特别是AI功能可能需要一定时间响应
5. 测试完成后整理测试报告，提出改进建议
6. 尊重系统资源，避免过度测试导致系统崩溃
7. 保护测试数据，避免泄露敏感信息

## 9. 后续优化建议

基于测试结果，可以从以下方面进行优化：

1. **功能优化**：根据测试发现的功能问题进行修复
2. **性能优化**：针对长文本编辑、AI生成等场景进行性能优化
3. **UI/UX优化**：根据测试反馈改进界面设计和交互体验
4. **稳定性优化**：增强系统对异常情况的处理能力
5. **兼容性优化**：确保在不同浏览器和设备上的良好表现
6. **安全性优化**：加强系统安全防护

通过系统的试用和测试，可以全面了解系统的功能、性能和用户体验，为后续的优化和改进提供依据。